(this["webpackJsonpculinary-blog"]=this["webpackJsonpculinary-blog"]||[]).push([[0],{122:function(e,t,a){e.exports=a(272)},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},159:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},270:function(e,t,a){},271:function(e,t,a){},272:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),i=a.n(c),s=a(13),o=(a(127),a(128),a(129),a(44)),l=a(2),m=a(3),u=a(5),d=a(4),p=a(6),h=(a(133),a(36)),g=(a(134),a(41)),b=(a(135),a(136),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onInputTextChange=function(e){var t=a.props.onSearchInputChange,n=e.target.value;a.setState({searchText:n}),t(n)},a.state={searchText:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.searchText;return r.a.createElement("form",{className:"search form-inline my-2 my-lg-0"},r.a.createElement("input",{className:"form-control form-control-sm mr-sm-2",type:"search",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u043b\u044e\u0434\u0430","aria-label":"Search",value:e,onChange:this.onInputTextChange}))}}]),t}(n.Component)),f=(a(137),a(10)),E=a.n(f),v=function e(){var t=this;Object(l.a)(this,e),this._baseUrl="http://g5.sumdu-tss.site/api",this.getResource=function(e,a,n){var r,c;return E.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if("undefined"!==typeof a){i.next=6;break}return i.next=3,E.a.awrap(fetch("".concat(t._baseUrl).concat(e),{method:"GET",credentials:"include"}));case 3:r=i.sent,i.next=12;break;case 6:return(c=new Headers).append("Content-Type","application/json"),c.append("Accept","application/json"),i.next=11,E.a.awrap(fetch("".concat(t._baseUrl).concat(e),{method:"POST",credentials:"include",headers:c,body:JSON.stringify(n)}));case 11:r=i.sent;case 12:if(r.ok){i.next=14;break}throw new Error("Could not fetch ".concat(e,",")+"received ".concat(r.status));case 14:return i.next=16,E.a.awrap(r.json());case 16:return i.abrupt("return",i.sent);case 17:case"end":return i.stop()}}))},this.getAllRecipes=function(){return E.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.awrap(t.getResource("/recipes/articles"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))},this.getRecipeById=function(e){return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.a.awrap(t.getResource("/recipes/article_by_id?id=".concat(e)));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},this.getSortedRecipes=function(e,a){return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.a.awrap(t.getResource("/recipes/articles?sortBy=".concat(e,"&order=").concat(a)));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}))},this.getRecipesWithSkip=function(e,a){return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.a.awrap(t.getResource("/recipes/articles?skip=".concat(e,"&limit=").concat(a)));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}))},this.getRecipesCount=function(){return E.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.awrap(t.getResource("/recipes/articles_number"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))},this.getAllIngredients=function(){var e;return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.a.awrap(t.getResource("/recipes/ingredients"));case 2:return e=a.sent,a.abrupt("return",e.map((function(e){return{id:e._id,name:e.name}})));case 4:case"end":return a.stop()}}))},this.getRecipesByIngredients=function(e){return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.a.awrap(t.getResource("/recipes/article_by_ingredients","POST",{ingredients:e}));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},this.createRecipe=function(e){var a;return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a=new FormData(document.querySelector(e)),n.next=3,E.a.awrap(fetch("".concat(t._baseUrl,"/recipe/create"),{method:"POST",body:a}).then((function(e){return e.json()})).catch((function(e){return console.error(e)})));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}))},this.updateRecipe=function(e,a){var n;return E.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=new FormData(document.querySelector(e)),r.next=3,E.a.awrap(fetch("".concat(t._baseUrl,"/recipes/article_by_id?id=").concat(a),{method:"PUT",body:n}).then((function(e){return e.json()})).catch((function(e){return console.error(e)})));case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}))},this.deleteRecipe=function(e){return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.a.awrap(fetch("".concat(t._baseUrl,"/recipes/article_by_id?id=").concat(e),{method:"DELETE"}).then((function(e){return e.json()})).catch((function(e){return console.error(e)})));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},this.toRegister=function(e){return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.a.awrap(t.getResource("/users/register","POST",e));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},this.logIn=function(e){return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.a.awrap(t.getResource("/users/login","POST",e));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},this.logout=function(){return E.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.awrap(t.getResource("/users/logout"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))},this.isUserAuth=function(){return E.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.awrap(t.getResource("/users/auth"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))}},N=[{id:1,label:"\u0420\u0435\u0446\u0435\u043f\u0442\u044b",url:"/recipes"},{id:2,label:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430\u043c",url:"/search"},{id:3,label:"\u0412\u0445\u043e\u0434/\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",url:"/autorization"}],y=[{id:1,label:"\u0420\u0435\u0446\u0435\u043f\u0442\u044b",url:"/recipes"},{id:2,label:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430\u043c",url:"/search"}],R=function(e){var t=e.onAuthorizationSwitch;return r.a.createElement("li",{key:500,className:"nav-item dropdown"},r.a.createElement("div",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{color:"white",cursor:"pointer"}},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},r.a.createElement(s.b,{to:"/createRecipe"},r.a.createElement("div",{className:"dropdown-item"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0446\u0435\u043f\u0442")),r.a.createElement(s.b,{to:"/updateRecipe"},r.a.createElement("div",{className:"dropdown-item"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0446\u0435\u043f\u0442")),r.a.createElement(s.b,{to:"/deleteRecipe"},r.a.createElement("div",{className:"dropdown-item"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0440\u0435\u0446\u0435\u043f\u0442")),r.a.createElement(s.b,{to:"/users"},r.a.createElement("div",{className:"dropdown-item"},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438")),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement(s.b,{to:"/autorization"},r.a.createElement("div",{className:"dropdown-item"},r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){(new v).logout().then((function(e){e.success&&t(!1),e.error&&t(!1)})).catch((function(e){return console.log(e)}))}},"\u0412\u044b\u0439\u0442\u0438")))))},O=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).setNavPanel=function(){var e=a.props.isAuthorized;a.setState({isAuthorized:e})},a.renderNavItems=function(){var e=a.state,t=e.admin,n=e.simpleUser;switch(e.isAuthorized){case!0:return t;case!1:default:return n}},a.state={simpleUser:N,admin:y,isAuthorized:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.setNavPanel()}},{key:"componentDidUpdate",value:function(e){var t=this.props.isAuthorized;e.isAuthorized!==t&&this.setNavPanel()}},{key:"render",value:function(){var e=this.state.isAuthorized,t=this.props,a=t.onSearchInputChange,n=t.onAuthorizationSwitch,c=this.renderNavItems().map((function(e){var t=e.id,a=e.label,n=e.url;return r.a.createElement("li",{key:t,className:"nav-item"},r.a.createElement("span",{className:"nav-link"},r.a.createElement(s.b,{to:n},a)))}));if(e){var i=r.a.createElement(R,{key:500,onAuthorizationSwitch:n});c=[].concat(Object(g.a)(c),[i])}return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},c),r.a.createElement("div",{className:"nav-search"},r.a.createElement(b,{onSearchInputChange:function(e){return a(e)}}))))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onSearchInputChange,a=e.isAuthorized,n=e.onAuthorizationSwitch;return r.a.createElement("header",{className:"header bg-primary sticky-top"},r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark"},r.a.createElement(s.b,{to:"/",className:"navbar-brand"},r.a.createElement("span",{className:"navbar-brand"},"Scrambled Eggs")),r.a.createElement(b,{onSearchInputChange:function(e){return t(e)}}),r.a.createElement(O,{isAuthorized:a,onSearchInputChange:function(e){return t(e)},onAuthorizationSwitch:function(e){return n(e)}}))))}}]),t}(n.Component),j=(a(141),a(142),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.description,n=e.image,c=e.id,i=n;return n&&(i=n.replace(/(.*)(uploads)\\(.*)$/,"./$2/$3")),r.a.createElement("div",{className:"col-xl-3 col-lg-4 col-sm-6 col-12"},r.a.createElement("div",{className:"card recipe-card"},r.a.createElement("div",{className:"embed-responsive embed-responsive-16by9"},r.a.createElement("img",{src:i,alt:"q",className:"recipe-image embed-responsive-item"})),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},t),r.a.createElement("div",{className:"module"},r.a.createElement("p",{className:"card-text line-clamp"},a)),r.a.createElement(s.b,{to:"/recipes/".concat(c)},r.a.createElement("button",{type:"button",className:"btn btn-primary card-btn"},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435")))))}}]),t}(n.Component)),x=(a(143),function(){return r.a.createElement("div",{className:"spinner-container"},r.a.createElement("div",{className:"spinner-border text-primary",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))}),S=r.a.createContext(),I=S.Provider,C=S.Consumer,A=function(e){return function(t){return function(a){return r.a.createElement(C,null,(function(n){var c=e(n);return r.a.createElement(t,Object.assign({},a,c))}))}}},k=(a(144),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.onFilterChange;return r.a.createElement("div",{className:"recipes-filter"},r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-body"},r.a.createElement("h4",{className:"navbar-brand"},"\u0424\u0438\u043b\u044c\u0442\u0440"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarFilter","aria-controls":"navbarFilter","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarFilter"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("a",{className:"nav-link dropdown-toggle",href:"qwe",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},r.a.createElement("span",{className:"dropdown-item filter-item",onClick:function(){return e("like","desc")}},"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435"),r.a.createElement("span",{className:"dropdown-item filter-item",onClick:function(){return e("created","desc")}},"\u041d\u043e\u0432\u044b\u0435"))))))))}}]),t}(n.Component)),F=(a(145),function(e){var t=e.label;return r.a.createElement("div",{className:"warning"},r.a.createElement("h4",null,t))}),L=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).renderRecipes=function(){var e=a.props.getAllRecipes;a.isMount=!0,e().then((function(e){return a.isMount&&a.setState({recipes:e})}))},a.onFilterChange=function(e,t){(0,a.props.getSortedRecipes)(e,t).then((function(e){a.setState({recipes:e})}))},a.search=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.length<1?e:e.filter((function(e){return e.name.toLowerCase().indexOf(t.toLowerCase())>-1}))},a.isMount=!1,a.state={recipes:null},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.renderRecipes()}},{key:"componentDidUpdate",value:function(e){this.props.currentPage!==e.currentPage&&this.renderRecipes()}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"render",value:function(){var e=this.state.recipes,t=this.props.searchText;if(null===e)return r.a.createElement(x,null);var a=this.search(e,t),n=a.length?null:r.a.createElement(F,{label:"No recipes found"});return r.a.createElement("div",{className:"recipes-section"},r.a.createElement(k,{onFilterChange:this.onFilterChange}),r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"recipes-section__title"},"\u0420\u0435\u0446\u0435\u043f\u0442\u044b"),r.a.createElement("div",{className:"row"},n,a.map((function(e){var t=e._id,a=e.name,n=e.description,c=e.image;return r.a.createElement(j,{key:t,id:t,name:a,description:n,image:c})})))))}}]),t}(n.Component),T=A((function(e){return{getAllRecipes:e.getAllRecipes,getSortedRecipes:e.getSortedRecipes,getRecipesWithSkip:e.getRecipesWithSkip}}))(L),_=(a(146),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"page-footer font-small unique-color-dark"},r.a.createElement("div",{className:"bg-primary"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"social-network row py-4 d-flex align-items-center"},r.a.createElement("div",{className:"col-md-6 col-lg-5 text-center text-md-left mb-4 mb-md-0"},r.a.createElement("h6",{className:"mb-0"},"\u0421\u0432\u044f\u0436\u0438\u0442\u0435\u0441\u044c \u0441 \u043d\u0430\u043c\u0438 \u0432 \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0445 \u0441\u0435\u0442\u044f\u0445!")),r.a.createElement("div",{className:"col-md-6 col-lg-7 text-center text-md-right"},r.a.createElement("a",{href:"/",className:"fb-ic"},r.a.createElement("i",{className:"fab fa-facebook-f white-text mr-4"}," ")),r.a.createElement("a",{href:"/",className:"tw-ic"},r.a.createElement("i",{className:"fab fa-twitter white-text mr-4"}," ")),r.a.createElement("a",{href:"/",className:"gplus-ic"},r.a.createElement("i",{className:"fab fa-google-plus-g white-text mr-4"}," ")),r.a.createElement("a",{href:"/",className:"li-ic"},r.a.createElement("i",{className:"fab fa-linkedin-in white-text mr-4"}," ")),r.a.createElement("a",{href:"/",className:"ins-ic"},r.a.createElement("i",{className:"fab fa-instagram white-text"}," ")))))),r.a.createElement("div",{className:"container text-center text-md-left mt-5"},r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-md-3 col-lg-4 col-xl-3 mx-auto mb-4"},r.a.createElement("h6",{className:"text-uppercase font-weight-bold"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"),r.a.createElement("hr",{className:"deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto",style:{width:"60px"}}),r.a.createElement("p",null,"\u0421\u0434\u0435\u043b\u0430\u0435\u043c \u043f\u0440\u043e\u0435\u043a\u0442 \u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0438 \u0442\u0440\u0451\u0445 \u043c\u0435\u0441\u044f\u0446\u0435\u0432! \u041f\u0440\u043e\u0435\u043a\u0442 \u0406\u041d64-8 \u0433\u0440\u0443\u043f\u043f\u0430 5.")),r.a.createElement("div",{className:"social col-md-3 col-lg-3 col-xl-2 mx-auto mb-4"},r.a.createElement("h6",{className:"text-uppercase font-weight-bold"},"\u0414\u0435\u0442\u0438 \u0441\u043e\u043b\u043d\u0446\u0430","  "),r.a.createElement("hr",{className:"deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto",style:{width:"60px"}}),r.a.createElement("p",null,r.a.createElement("i",{title:"Dubstep",className:"fas fa-headphones-alt"}," \u041d\u0438\u043a\u0438\u0442\u043a\u0430 \u0413\u043e\u043b\u0443\u0431")),r.a.createElement("p",null,r.a.createElement("i",{title:"\u041d\u0435 \u0447\u0443\u0432\u0441\u0442\u0432\u0443\u0435\u0442 \u0437\u0430\u043f\u0430\u0445\u043e\u0432",className:"fas fa-poo"}," \u0414\u0435\u043d\u0438\u0441\u043a\u0430 \u0414\u044f\u0447\u0435\u043d\u043a\u043e")),r.a.createElement("p",null,r.a.createElement("i",{title:"\u041d\u0435\u043a\u0440\u0430\u0441\u0438\u0432\u043e\u0435 \u043b\u0438\u0446\u043e",className:"fas fa-grimace"}," \u0412\u0430\u043b\u0435\u0440\u043a\u0430 \u0412\u0430\u0440\u0447\u0430\u043a"))),r.a.createElement("div",{className:"col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4"},r.a.createElement("h6",{className:"text-uppercase font-weight-bold"},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"),r.a.createElement("hr",{className:"deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto",style:{width:"60px"}}),r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-home mr-3"})," ","Lublinska 10, rooom 806"),r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-envelope mr-3"})," ",r.a.createElement("span",{style:{fontSize:"10px"}},"g5@tss2019.repositoryhosting.com"))))))}}]),t}(n.Component)),M=(a(147),a(148),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a.stepsRef=Object(n.createRef)(),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.recipe.steps;this.stepsRef.current&&(this.stepsRef.current.innerHTML=e)}},{key:"render",value:function(){var e=this.props.recipe,t=e.name,a=e.description,n=e.category,c=e.created,i=e.ingredient,s=e.image,o=s;s&&(o=s.replace(/(.*)(uploads)\\(.*)$/,"../$2/$3"));var l=c.match(/([0-9][0-9][0-9][0-9])-([0-1][0-9])-([0-3][0-9])/g).toString(),m=i.map((function(e){return r.a.createElement("li",{key:e,className:"list-group-item"},e)}));return r.a.createElement("div",{className:"card recipes-item-section"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-md-4 col-sm-12 col-12"},r.a.createElement("img",{src:o,alt:"q",className:"recipe-image"}),r.a.createElement("h6",{className:"ingredients-title"},"\u0418\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b:"),r.a.createElement("ul",{className:"list-group list-group-flush"},m)),r.a.createElement("div",{className:"col-md-8 col-sm-12 col-12"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"card-title"},t),r.a.createElement("p",{className:"card-text card-description"},a),r.a.createElement("p",{className:"card-text d-flex justify-content-between"},r.a.createElement("small",{className:"text-muted"},"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f: ".concat(n)),r.a.createElement("small",{className:"text-muted"},"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e: ".concat(l)))),r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"cooking-instruction__title"},"\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f \u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0438\u044f:"),r.a.createElement("div",{ref:this.stepsRef,id:"recipe-steps"})))))}}]),t}(n.Component)),z=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={recipe:null,error:null},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.match.params;(0,t.getRecipeById)(a.id).then((function(t){e.setState({recipe:t})})).catch((function(t){e.setState({error:t})}))}},{key:"render",value:function(){var e=this.state,t=e.recipe;if(e.error)return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Recipe does not exist!"));var a=t?null:r.a.createElement(x,null),n=a?null:r.a.createElement(M,{recipe:t});return r.a.createElement("div",{className:"container"},a,n)}}]),t}(n.Component),P=A((function(e){return{getRecipeById:e.getRecipeById}}))(z),B=a(15),D=a(19),U=a(18),V=(a(149),a(32)),H=a.n(V),G={letters:/^(\d*([a-zA-Z]{1,})\d*)*$/,email:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,password:/^[A-Za-z0-9]+$/},W={invalidCharacters:"use only letters and numbers",tooShortUsername:"too short username",tooLongUsername:"too long username"},$={invalidEmail:"invalid email"},q={invalidPassword:"invalid password",tooShortPassword:"too short password",tooLongPassword:"too long password"},Z=function(e,t){return{status:"success",fieldName:e,value:t}},J=function(e,t,a){return{status:"error",error:a,fieldName:e,value:t}},K=function(e,t){var a={EMAIL_LOGIN:"emailLogin",FIRSTNAME_REGISTRATION:"firstnameRegistration",LASTNAME_REGISTRATION:"lastnameRegistration",PASSWORD_LOGIN:"passwordLogin",PASSWORD_REGISTRATION:"passwordRegistration",PASSWORD_CONFIRM_REGISTRATION:"passwordConfirmRegistration",EMAIL_REGISTRATION:"emailRegistration"};switch(e){case a.EMAIL_LOGIN:return G.email.test(t)?Z(e,t):J(e,t,$.invalidEmail);case a.USERNAME_REGISTRATION:return G.letters.test(t)?t.length<=20&&t.length>3?Z(e,t):t.length>20?J(e,t,W.tooLongUsername):J(e,t,W.tooShortUsername):J(e,t,W.invalidCharacters);case a.EMAIL_REGISTRATION:return G.email.test(t)?Z(e,t):J(e,t,$.invalidEmail);case a.PASSWORD_LOGIN:return G.password.test(t)?t.length<=20&&t.length>5?Z(e,t):t.length>20?J(e,t,q.tooLongPassword):J(e,t,q.tooShortPassword):J(e,t,q.invalidPassword);case a.PASSWORD_REGISTRATION:case a.PASSWORD_CONFIRM_REGISTRATION:return G.password.test(t)?t.length<20&&t.length>5?Z(e,t):t.length>20?J(e,t,q.tooLongPassword):J(e,t,q.tooShortPassword):J(e,t,q.invalidPassword);default:return!1}},Q=a(279),X=a(275),Y=a(276),ee=a(277),te=a(278),ae=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.header,a=e.message,n=e.toggle,c=e.modal;return r.a.createElement("div",null,r.a.createElement(Q.a,{isOpen:c,toggle:n},r.a.createElement(X.a,{toggle:n},t),r.a.createElement(Y.a,null,a),r.a.createElement(ee.a,null,r.a.createElement(te.a,{color:"primary",onClick:n},"Ok"))))}}]),t}(n.Component),ne=function(e){var t=e.header,a=e.message,n=e.visibility?"exampleModal":"exampleModalInvisible";return r.a.createElement("div",{className:"modal fade",id:n,tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},t),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},a),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal"},"Ok")))))},re=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleFormInput=function(e){var t=e.target,n=t.id,r=t.value,c=a.state,i=c.errorMessage,s=c.errorBorder,o=c.errorVisibility,l=c.inputValues,m=K(n,r);"success"===m.status?("passwordConfirmRegistration"===n&&r!==l.passwordRegistration&&a.setState({error:!0,inputValues:Object(D.a)({},l,Object(B.a)({},n,r)),errorMessage:Object(D.a)({},i,Object(B.a)({},n,"passwords does not match")),errorVisibility:Object(D.a)({},o,Object(B.a)({},n,{visibility:"visible"})),errorBorder:Object(D.a)({},s,Object(B.a)({},n,{borderBottom:"2px solid red"}))}),a.setState({error:!1,inputValues:Object(D.a)({},l,Object(B.a)({},n,r)),errorMessage:Object(D.a)({},i,Object(B.a)({},n,"")),errorVisibility:Object(D.a)({},o,Object(B.a)({},n,{visibility:"hidden"})),errorBorder:Object(D.a)({},s,Object(B.a)({},n,{borderBottom:"2px solid rgba(255,255,255,0.24)"}))})):a.setState({error:!0,inputValues:Object(D.a)({},l,Object(B.a)({},n,r)),errorMessage:Object(D.a)({},i,Object(B.a)({},n,m.error)),errorVisibility:Object(D.a)({},o,Object(B.a)({},n,{visibility:"visible"})),errorBorder:Object(D.a)({},s,Object(B.a)({},n,{borderBottom:"2px solid red"}))})},a.showLoginForm=function(){""===a.state.registrationVisibility&&a.setState({registrationVisibility:"styleHidden",loginVisibility:"",isLoginActive:!0,isRegistrationActive:!1})},a.showRegistrationForm=function(){""===a.state.loginVisibility&&a.setState({loginVisibility:"styleHidden",registrationVisibility:"",isLoginActive:!1,isRegistrationActive:!0})},a.onLoginSubmit=function(e){e.preventDefault();var t=a.state,n=t.error,r=t.inputValues,c=a.props,i=c.logIn,s=c.onAuthorizationSwitch;n||i({email:r.emailLogin.toLowerCase(),password:r.passwordLogin}).then((function(e){e.loginSuccess?s(!0):(console.log(e),s(!1),a.setState({modalHeader:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0445\u043e\u0434\u0430",modalMessage:e.message}),a.modalToggle())})).catch((function(e){return console.log(e)}))},a.onRegistrationSubmit=function(e){e.preventDefault();var t=a.state,n=t.error,c=t.inputValues,i=a.props.toRegister;n||i({email:c.emailRegistration.toLowerCase(),password:c.passwordRegistration,name:c.firstnameRegistration,lastname:c.lastnameRegistration}).then((function(e){if(e.success)return r.a.createElement(h.a,{to:"/congratulations"});console.log(e),a.setState({modalHeader:e.err._message,modalMessage:e.err.message}),a.modalToggle()})).catch((function(e){return console.log(e)}))},a.modalToggle=function(){a.setState((function(e){return{modal:!e.modal}}))},a.state={loginVisibility:"",registrationVisibility:"styleHidden",isLoginActive:!0,isRegistrationActive:!1,modal:!1,modalHeader:"",modalMessage:"",error:!1,inputValues:{emailLogin:"",passwordLogin:"",firstnameRegistration:"",lastnameRegistration:"",emailRegistration:"",passwordRegistration:"",passwordConfirmRegistration:""},errorMessage:{emailLogin:"",passwordLogin:"",firstnameRegistration:"",lastnameRegistration:"",emailRegistration:"",passwordRegistration:"",passwordConfirmRegistration:""},errorVisibility:{emailLogin:{visibility:"hidden"},passwordLogin:{visibility:"hidden"},firstnameRegistration:{visibility:"hidden"},lastnameRegistration:{visibility:"hidden"},emailRegistration:{visibility:"hidden"},passwordRegistration:{visibility:"hidden"},passwordConfirmRegistration:{visibility:"hidden"}},errorBorder:{emailLogin:{borderBottom:"2px solid rgba(255,255,255,0.24)"},passwordLogin:{borderBottom:"2px solid rgba(255,255,255,0.24)"},firstnameRegistration:{borderBottom:"2px solid rgba(255,255,255,0.24)"},lastnameRegistration:{borderBottom:"2px solid rgba(255,255,255,0.24)"},emailRegistration:{borderBottom:"2px solid rgba(255,255,255,0.24)"},passwordRegistration:{borderBottom:"2px solid rgba(255,255,255,0.24)"},passwordConfirmRegistration:{borderBottom:"2px solid rgba(255,255,255,0.24)"}}},a.showLoginForm=a.showLoginForm.bind(Object(U.a)(a)),a.showRegistrationForm=a.showRegistrationForm.bind(Object(U.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.loginVisibility,a=e.registrationVisibility,n=e.errorMessage,c=e.errorVisibility,i=e.isLoginActive,s=e.isRegistrationActive,o=e.modal,l=e.modalHeader,m=e.modalMessage;if(this.props.isAuthorized)return r.a.createElement(h.a,{to:"/"});var u=i?"btn-primary":"btn-light",d=s?"btn-primary":"btn-light";return r.a.createElement("div",{className:"container"},r.a.createElement(ae,{header:l,message:m,toggle:this.modalToggle,modal:o}),r.a.createElement("div",{className:"autorization-container row"},r.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},r.a.createElement("div",{className:"btn-group autorization-buttons",role:"group","aria-label":"Basic example"},r.a.createElement("button",{type:"button",className:"btn ".concat(u),onClick:this.showLoginForm},"\u0412\u0445\u043e\u0434"),r.a.createElement("button",{type:"button",className:"btn ".concat(d),onClick:this.showRegistrationForm},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")),r.a.createElement("form",{id:"login-form",onSubmit:this.onLoginSubmit,className:"login col-sm-12 col-md-12 col-lg-12 col-xl-12 ".concat(t)},r.a.createElement(H.a,{duraction:100},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputEmailLogin",className:"col-sm-2 col-md-3 col-lg-2 col-form-label"},"Email"),r.a.createElement("div",{className:"col-sm-12 col-md-9 col-lg-10 col-xl-10"},r.a.createElement("input",{type:"email",name:"email",className:"form-field form-control",id:"emailLogin",onChange:this.handleFormInput})),r.a.createElement("div",{className:"col-sm-12 offset-lg-2 col-md-9 offset-md-3 col-lg-10 col-xl-10"},r.a.createElement("div",{className:"error-message",style:c.emailLogin},n.emailLogin)))),r.a.createElement(H.a,{delay:200},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputPasswordLogin",className:"col-sm-2 col-md-3 col-lg-2 col-form-label"},"\u041f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement("div",{className:"col-sm-12 col-md-9 col-lg-10 col-xl-10"},r.a.createElement("input",{type:"password",name:"password",className:"form-field form-control",id:"passwordLogin",onChange:this.handleFormInput})),r.a.createElement("div",{className:"col-sm-12 offset-lg-2 col-md-9 offset-md-3 col-lg-10 col-xl-10"},r.a.createElement("div",{className:"error-message",style:c.passwordLogin},n.passwordLogin)))),r.a.createElement(H.a,{delay:300},r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"\u0412\u043e\u0439\u0442\u0438"))))),r.a.createElement("form",{id:"registration-form",onSubmit:this.onRegistrationSubmit,className:"registration col-sm-12 col-md-12 col-lg-12 col-xl-12 ".concat(a)},r.a.createElement(H.a,null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputFirstnameRegistration",className:"col-sm-2 col-md-3 col-lg-2 col-form-label"},"\u0418\u043c\u044f"),r.a.createElement("div",{className:"col-sm-12 col-md-9 col-lg-10 col-xl-10"},r.a.createElement("input",{type:"login",name:"name",className:"form-field form-control",id:"firstnameRegistration",onChange:this.handleFormInput})),r.a.createElement("div",{className:"col-sm-12 offset-lg-2 col-md-9 offset-md-3 col-lg-10 col-xl-10"},r.a.createElement("div",{className:"error-message",style:c.firstnameRegistration},n.firstnameRegistration)))),r.a.createElement(H.a,null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputLastnameeRegistration",className:"col-sm-2 col-md-3 col-lg-2 col-form-label"},"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),r.a.createElement("div",{className:"col-sm-12 col-md-9 col-lg-10 col-xl-10"},r.a.createElement("input",{type:"login",name:"lastname",className:"form-field form-control",id:"lastnameRegistration",onChange:this.handleFormInput})),r.a.createElement("div",{className:"col-sm-12 offset-lg-2 col-md-9 offset-md-3 col-lg-10 col-xl-10"},r.a.createElement("div",{className:"error-message",style:c.lastnameRegistration},n.lastnameRegistration)))),r.a.createElement(H.a,{delay:100},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputEmailRegistration",className:"col-sm-2 col-md-3 col-lg-2 col-form-label"},"Email"),r.a.createElement("div",{className:"col-sm-12 col-md-9 col-lg-10 col-xl-10"},r.a.createElement("input",{type:"email",name:"email",className:"form-field form-control",id:"emailRegistration",onChange:this.handleFormInput})),r.a.createElement("div",{className:"col-sm-12 offset-lg-2 col-md-9 offset-md-3 col-lg-10 col-xl-10"},r.a.createElement("div",{className:"error-message",style:c.emailRegistration},n.emailRegistration)))),r.a.createElement(H.a,{delay:200},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputPasswordRegistration",className:"col-sm-2 col-md-3 col-lg-2 col-form-label"},"\u041f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement("div",{className:"col-sm-12 col-md-9 col-lg-10 col-xl-10"},r.a.createElement("input",{type:"password",name:"password",className:"form-field form-control",id:"passwordRegistration",onChange:this.handleFormInput})),r.a.createElement("div",{className:"col-sm-12 offset-lg-2 col-md-9 offset-md-3 col-lg-10 col-xl-10"},r.a.createElement("div",{className:"error-message",style:c.passwordRegistration},n.passwordRegistration)))),r.a.createElement(H.a,{delay:300},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputPasswordConfirmRegistration",className:"col-sm-2 col-md-3 col-lg-2 col-form-label"},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement("div",{className:"col-sm-12 col-md-9 col-lg-10 col-xl-10"},r.a.createElement("input",{type:"password",name:"passwordConfirm",className:"form-field form-control",id:"passwordConfirmRegistration",onChange:this.handleFormInput})),r.a.createElement("div",{className:"col-sm-12 offset-lg-2 col-md-9 offset-md-3 col-lg-10 col-xl-10"},r.a.createElement("div",{className:"error-message",style:c.passwordConfirmRegistration},n.passwordConfirmRegistration)))),r.a.createElement(H.a,{delay:400},r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))))))))}}]),t}(n.Component),ce=Object(o.b)(A((function(e){return{toRegister:e.toRegister,logIn:e.logIn}}))(re)),ie=(a(159),a(61)),se=a.n(ie),oe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).createSelectOption=function(e){return{id:e.id,name:e.name}},a.onSearchChange=function(e){var t=e.target.value;a.setState({searchText:t})},a.onSubmit=function(e){e.preventDefault();var t=a.props.onRecipeIngredientAdd,n=a.state.searchText;n&&(t(n),a.setState({searchText:""}))},a.state={searchText:"",ingredients:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;(0,this.props.getAllIngredients)().then((function(t){e.setState({ingredients:t})}))}},{key:"render",value:function(){var e=this,t=this.state.ingredients,a=this.props.onRecipeIngredientAdd,n=t.map((function(t){return e.createSelectOption(t)}));return r.a.createElement("div",{className:"search-input"},r.a.createElement("h4",null,r.a.createElement("label",{htmlFor:"searchInput"},"Enter recipe ingredient")),r.a.createElement("form",{className:"search-input",onSubmit:this.onSubmit},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement(se.a,{multi:!0,options:n,valueField:"id",onChange:function(e){return a(e)},searchable:!0,labelField:"name",searchBy:"name"}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-secondary",type:"submit",id:"button-addon2"},"Add")))))}}]),t}(n.Component),le=A((function(e){return{getAllIngredients:e.getAllIngredients}}))(oe),me=(n.Component,function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).updateSearchedRecipes=function(){var e=a.props,t=e.getRecipesByIngredients,n=e.recipeIngredients;a.setState({loading:!0}),t(n.map((function(e){return e.name}))).then((function(e){a.setState({recipes:e,loading:!1})}))},a.state={recipes:[],loading:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.recipeIngredients;e.recipeIngredients!==t&&this.updateSearchedRecipes()}},{key:"render",value:function(){var e=this.state,t=e.recipes;return e.loading?r.a.createElement(x,null):t.length?r.a.createElement("div",{className:"searched-recipes"},r.a.createElement("div",{className:"row"},t.map((function(e){var t=e._id,a=e.name,n=e.description,c=e.image;return r.a.createElement(j,{key:t,id:t,name:a,description:n,image:c})})))):r.a.createElement("h2",{className:"text-center"},"No recipes found")}}]),t}(n.Component)),ue=A((function(e){return{getRecipesByIngredients:e.getRecipesByIngredients}}))(me),de=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onRecipeIngredientAdd=function(e){a.setState({recipeIngredients:e})},a.state={recipeIngredients:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.recipeIngredients;return r.a.createElement("div",{className:"search-section"},r.a.createElement("div",{className:"container"},r.a.createElement(le,{onRecipeIngredientAdd:this.onRecipeIngredientAdd}),r.a.createElement(ue,{recipeIngredients:e})))}}]),t}(n.Component),pe=(a(171),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("table",{className:"table users-table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"ID"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Delete"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"1"),r.a.createElement("td",null,"Name"),r.a.createElement("td",null,r.a.createElement("button",{type:"submit",className:"btn btn-light"},r.a.createElement("i",{className:"material-icons"},"delete_forever")))))))}}]),t}(n.Component)),he=A((function(e){return{getAll:e.getAll}}))(pe),ge=(a(172),a(173),a(174),a(34)),be=a(119),fe=a(120),Ee=a.n(fe),ve=a(75),Ne=a.n(ve),ye=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onEditorStateChange=function(e){a.setState({editorState:e})},a.state={editorState:ge.EditorState.createEmpty()},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.steps||"<p>\u041e\u043f\u0438\u0448\u0438\u0442\u0435 \u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0438\u0435</p>",t=Ne()(e);if(t){var a=ge.ContentState.createFromBlockArray(t.contentBlocks),n=ge.EditorState.createWithContent(a);this.state={editorState:n}}}},{key:"componentDidUpdate",value:function(e){var t=this.props.steps;if(e.steps!==t){var a=t||"<p>\u041e\u043f\u0438\u0448\u0438\u0442\u0435 \u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0438\u0435</p>",n=Ne()(a);if(n){var r=ge.ContentState.createFromBlockArray(n.contentBlocks),c=ge.EditorState.createWithContent(r);this.onEditorStateChange(c)}}}},{key:"render",value:function(){var e=this.state.editorState;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"editor-convert-to-html"},r.a.createElement(be.Editor,{editorState:e,wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",onEditorStateChange:this.onEditorStateChange})),r.a.createElement("input",{readOnly:!0,style:{width:"100%",display:"none"},value:Ee()(Object(ge.convertToRaw)(e.getCurrentContent())),type:"text",name:"steps",className:"form-control"}))}}]),t}(n.Component),Re=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onInputChange=function(e){var t=a.state.selectedRecipe,n=e.target.name,r=e.target.value;a.setState({selectedRecipe:Object(D.a)({},t,Object(B.a)({},n,r))})},a.onIngredientAdd=function(){var e,t=a.state,n=t.term,r=t.ingredients,c=t.selectedIngredients;n&&(e=r?"".concat(r,",").concat(n):"".concat(n),a.setState({ingredients:e,selectedIngredients:a.addIngredient(c,n)}))},a.onIngredientRemove=function(e){var t=a.state.selectedIngredients,n=a.removeIngredient(t,e).map((function(e){return e.name}));a.setState({ingredients:n.join(","),selectedIngredients:a.removeIngredient(t,e)})},a.removeIngredient=function(e,t){var a=Object(g.a)(e),n=a.indexOf(a.find((function(e){return e.id===t})));return a.splice(n,1),Object(g.a)(a)},a.addIngredient=function(e,t){var a=Object(g.a)(e),n={id:a.length>0?a[a.length-1].id+1:1,name:t};return a.push(n),Object(g.a)(a)},a.onIngredientInputChange=function(e){var t=e.target.value;a.setState({term:t})},a.onSubmit=function(e){e.preventDefault();var t=a.props,n=t.createRecipe,r=t.updateRecipe,c=t.isUpdate,i=t.selectedRecipe;c?r("#recipe-form",i._id).then((function(e){e.error?(console.log("error"),a.setState({modalHeader:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430",modalMessage:e.error.message})):a.setState({modalHeader:"\u0420\u0435\u0446\u0435\u043f\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d",modalMessage:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u043b\u0438 \u0440\u0435\u0446\u0435\u043f\u0442",selectedRecipe:{id:"",name:"",description:"",steps:"",ingredient:[]}})})).then(a.createRecipeForm.current.reset()).catch((function(e){return console.log(e)})):n("#recipe-form").then((function(e){e.error?(console.log("error"),a.setState({modalHeader:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430",modalMessage:e.error.message})):a.setState({modalHeader:"\u0420\u0435\u0446\u0435\u043f\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d",modalMessage:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u0440\u0435\u0446\u0435\u043f\u0442",selectedRecipe:{id:"",name:"",description:"",steps:"",ingredient:[]}})})).then(a.createRecipeForm.current.reset()).catch((function(e){return console.log(e)}))},a.createRecipeForm=Object(n.createRef)(),a.state={term:"",ingredients:"",selectedRecipe:{id:"",name:"",description:"",steps:"",ingredient:[]},selectedIngredients:[],modalVisibility:!0,modalHeader:"",modalMessage:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.selectedRecipe;this.setState({selectedRecipe:e})}},{key:"componentDidUpdate",value:function(e){var t,a,n=this.props.selectedRecipe;e.selectedRecipe!==n&&(""===n.ingredient[0]?t=[]:(t=n.ingredient.map((function(e,t){return{id:t,name:e}})),a=n.ingredient.join(",")),this.setState({ingredients:a,selectedRecipe:n,selectedIngredients:t}))}},{key:"render",value:function(){var e,t=this,a=this.state.selectedRecipe,n=this.state,c=n.ingredients,i=n.selectedIngredients,s=n.modalHeader,o=n.modalMessage,l=n.modalVisibility;return null==a&&(a={id:"",name:"",description:"",steps:"",ingredient:[]}),i.length>0&&(e=r.a.createElement("ul",{className:"recipe-list row"},i.map((function(e){return r.a.createElement("li",{className:"recipe-list-item",key:e.id},e.name,r.a.createElement("button",{onClick:function(){return t.onIngredientRemove(e.id)},type:"button",className:"button-delete-ingredient material-icons md-18 btn btn-light btn btn-sm disabled"},"close"))})))),r.a.createElement("div",{className:"container"},r.a.createElement("h4",{className:"my-3"},r.a.createElement("label",{htmlFor:"searchInput"},"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430")),r.a.createElement("form",{ref:this.createRecipeForm,method:"POST",className:"created_recipe",id:"recipe-form",onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"recipe-name"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),r.a.createElement("input",{onChange:this.onInputChange,value:a.name,type:"text",name:"name",className:"form-control",id:"recipe-name"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"recipe-description"},"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"),r.a.createElement("textarea",{onChange:this.onInputChange,value:a.description,className:"form-control",name:"description",id:"recipe-description"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"recipe-category"},"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),r.a.createElement("select",{className:"form-control",id:"recipe-category",name:"category"},r.a.createElement("option",null,"1"),r.a.createElement("option",null,"2"),r.a.createElement("option",null,"3"),r.a.createElement("option",null,"4"),r.a.createElement("option",null,"5"))),r.a.createElement("label",{htmlFor:"recipe-ingredients"},"\u0418\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b:"),r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("button",{onClick:this.onIngredientAdd,className:"btn btn-outline-secondary",type:"button",id:"button-addon1"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")),r.a.createElement("input",{onChange:this.onIngredientInputChange,id:"recipe-ingredient",type:"text",className:"form-control",placeholder:"","aria-label":"Example text with button addon","aria-describedby":"button-addon1"})),r.a.createElement("input",{readOnly:!0,style:{display:"none"},value:c,type:"text",name:"ingredient",className:"form-control"})),e,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"recipe-file"},"\u0424\u043e\u0442\u043e"),r.a.createElement("input",{type:"file",name:"image",className:"form-control-file",id:"recipe-file"})),r.a.createElement(ye,{steps:a.steps}),r.a.createElement("input",{"data-toggle":"modal","data-target":"#exampleModal",className:"btn btn-primary",type:"submit",value:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})),r.a.createElement(ne,{visibility:l,header:s,message:o}))}}]),t}(n.Component),Oe=A((function(e){return{createRecipe:e.createRecipe,updateRecipe:e.updateRecipe}}))(Re),we=(a(270),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={},e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("table",{className:"table user-recipe"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),r.a.createElement("th",{scope:"col"},"\u0414\u0430\u0442\u0430"),r.a.createElement("th",{scope:"col",className:"button-change-delete"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c/\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"1"),r.a.createElement("td",null,"Mark"),r.a.createElement("td",null,"\u0431\u0435\u0437 5\u043c\u0438\u043d\u0443\u0442"),r.a.createElement("td",{className:"button-change-delete"},r.a.createElement(s.b,{to:"/change"},r.a.createElement("button",{type:"button",className:"btn btn-secondary material-icons"},"settings_applications")),r.a.createElement("button",{type:"button",className:"btn btn-secondary material-icons"},"delete_forever"))))))}}]),t}(n.Component)),je=A((function(e){return{getAllRecipes:e.getAllRecipes}}))(we),xe=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"created_recipe"},"asdfasdf",r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleFormControlInput1"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),r.a.createElement("input",{type:"text",name:"name",className:"form-control",id:"exampleFormControlInput1"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleFormControlSelect1"},"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),r.a.createElement("select",{className:"form-control",id:"exampleFormControlSelect1",name:"category"},r.a.createElement("option",null,"1"),r.a.createElement("option",null,"2"),r.a.createElement("option",null,"3"),r.a.createElement("option",null,"4"),r.a.createElement("option",null,"5"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleFormControlFile1"},"\u0424\u043e\u0442\u043e"),r.a.createElement("input",{type:"file",className:"form-control-file",id:"exampleFormControlFile1"})),r.a.createElement(ye,null),r.a.createElement("input",{className:"btn btn-primary",type:"submit",value:"Submit"})))}}]),t}(n.Component),Se=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onSelectRecipe=function(e){(0,a.props.getRecipeById)(e).then((function(e){a.setState({selectedRecipe:e})})).catch((function(e){return console.log(e)}))},a.state={options:null,selectedRecipe:null},a.cancelled=!1,a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;(0,this.props.getAllRecipes)().then((function(t){return!e.cancelled&&e.setState({options:t})})).catch((function(e){return console.log(e)}))}},{key:"componentWillUnmount",value:function(){this.cancelled=!0}},{key:"render",value:function(){var e=this,t=this.state,a=t.options,n=t.selectedRecipe;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"search-input"},r.a.createElement("h4",{className:"my-3"},r.a.createElement("label",{htmlFor:"searchInput"},"Enter recipe ingredient")),r.a.createElement("form",{className:"search-input"},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement(se.a,{options:a,valueField:"_id",onChange:function(t){var a=t[0]._id;e.onSelectRecipe(a)},searchable:!0,labelField:"name",searchBy:"name"}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-secondary",type:"submit",id:"button-addon2"},"Select")))))),r.a.createElement(Oe,{isUpdate:!0,selectedRecipe:n}))}}]),t}(n.Component),Ie=A((function(e){return{getRecipeById:e.getRecipeById,getAllRecipes:e.getAllRecipes}}))(Se),Ce=(a(271),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).deleteRecipe=function(e){var t=a.props,n=t.getAllRecipes;(0,t.deleteRecipe)(e).then((function(e){return console.log(e)})).then((function(){return n().then((function(e){return a.setState({allRecipes:e})}))})).catch((function(e){return console.log(e)}))},a.state={allRecipes:null},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;(0,this.props.getAllRecipes)().then((function(t){return e.setState({allRecipes:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.allRecipes,a=t?t.map((function(t,a){var n=t.created.match(/([0-9][0-9][0-9][0-9])-([0-1][0-9])-([0-3][0-9])/g).toString();return r.a.createElement("tr",{className:"deleteRecipeTr",key:t._id},r.a.createElement("th",{scope:"row"},a+1),r.a.createElement("td",null,t.name),r.a.createElement("td",null,n),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.deleteRecipe(t._id)},type:"button"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))})):null;return r.a.createElement("div",{className:"container"},r.a.createElement("table",{className:"table table-delete-recipe my-3"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),r.a.createElement("th",{scope:"col"},"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"),r.a.createElement("th",{scope:"col"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))),r.a.createElement("tbody",null,a)))}}]),t}(n.Component)),Ae=A((function(e){return{getAllRecipes:e.getAllRecipes,deleteRecipe:e.deleteRecipe}}))(Ce),ke=a(121),Fe=function(e){var t=e.component,a=e.isAuthorized,n=Object(ke.a)(e,["component","isAuthorized"]);return console.log(a),r.a.createElement(h.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(h.a,{to:"/"})}}))},Le=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onAuthorizationSwitch=function(e){a.setState({isAuthorized:e})},a.onSearchInputChange=function(e){a.setState({searchText:e})},a.state={recipesAPI:new v,currentPage:1,searchText:"",isAuthorized:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.recipesAPI.isUserAuth().then((function(t){e.setState({isAuthorized:t.isAuth})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.recipesAPI,n=t.currentPage,c=t.searchText,i=t.isAuthorized;return r.a.createElement(I,{value:a},r.a.createElement("div",null,r.a.createElement(w,{isAuthorized:i,onAuthorizationSwitch:this.onAuthorizationSwitch,onSearchInputChange:this.onSearchInputChange}),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(T,Object.assign({},e,{currentPage:n,searchText:c}))}}),r.a.createElement(h.b,{exact:!0,path:"/recipes",render:function(e){return r.a.createElement(T,Object.assign({},e,{currentPage:n,searchText:c}))}}),r.a.createElement(h.b,{exact:!0,path:"/recipes/:id",component:P}),r.a.createElement(h.b,{path:"/autorization",render:function(t){return r.a.createElement(ce,Object.assign({},t,{isAuthorized:i,onAuthorizationSwitch:e.onAuthorizationSwitch}))}}),r.a.createElement(h.b,{path:"/search",component:de}),r.a.createElement(h.b,{path:"/users",component:he}),r.a.createElement(Fe,{isAuthorized:i,path:"/createRecipe",component:Oe}),r.a.createElement(Fe,{isAuthorized:i,path:"/updateRecipe",component:Ie}),r.a.createElement(Fe,{isAuthorized:i,path:"/deleteRecipe",component:Ae}),r.a.createElement(Fe,{isAuthorized:i,path:"/recipeClient",component:je}),r.a.createElement(Fe,{isAuthorized:i,path:"/change",component:xe}),r.a.createElement(h.b,{path:"/users",render:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c, \u0432\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!"),r.a.createElement("h4",null,"\u041f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u043f\u0438\u0441\u044c\u043c\u043e \u0431\u044b\u043b\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u0434\u0435\u043d\u043e \u043d\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u0443\u044e \u0432\u0430\u043c\u0438 \u043f\u043e\u0447\u0442\u0443"))}})),r.a.createElement(_,null)))}}]),t}(n.Component),Te=Object(o.b)(Le);i.a.render(r.a.createElement(o.a,null,r.a.createElement(s.a,null,r.a.createElement(Te,null))),document.getElementById("root"))}},[[122,1,2]]]);
//# sourceMappingURL=main.8e87e1f6.chunk.js.map